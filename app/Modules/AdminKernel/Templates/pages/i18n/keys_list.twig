{% extends "layouts/base.twig" %}

{% block title %}
    Translation Keys | {{ ui.appName }}
{% endblock %}

{% block content %}
    <!-- Page Header + Breadcrumb -->
    <div class="flex flex-wrap items-center justify-between gap-3">
        <h2 class="text-xl font-semibold text-gray-800">Translation Keys</h2>

        <nav>
            <ol class="flex items-center gap-1.5">
                <li>
                    <a
                        class="inline-flex items-center gap-1.5 text-sm text-gray-500"
                        href="{{ ui.adminUrl }}dashboard"
                    >
                        Home
                        <svg class="stroke-current" width="17" height="16" viewBox="0 0 17 16" fill="none"
                             xmlns="http://www.w3.org/2000/svg">
                            <path d="M6.0765 12.667L10.2432 8.50033L6.0765 4.33366"
                                  stroke=""
                                  stroke-width="1.2"
                                  stroke-linecap="round"
                                  stroke-linejoin="round"/>
                        </svg>
                    </a>
                </li>
                <li class="text-sm text-gray-800">I18n</li>
                <li class="text-sm text-gray-800">Translation Keys</li>
            </ol>
        </nav>
    </div>

    {# ============================================================
       ğŸ” Capabilities Injection (UI Contract)
       ------------------------------------------------------------
       - Capabilities are computed server-side
       - Twig MUST NOT check permissions by name
       - JS MUST NOT infer authorization

       Available capabilities:
       - can_create
       - can_update_name
       - can_update_description
       ============================================================ #}

    <script>
        window.translationKeysCapabilities = {
            can_create            : {{ capabilities.can_create ?? false ? 'true' : 'false' }},
            can_update_name       : {{ capabilities.can_update_name ?? false ? 'true' : 'false' }},
            can_update_description: {{ capabilities.can_update_description ?? false ? 'true' : 'false' }}
        };

        console.log('ğŸ” Translation Keys Capabilities:', window.translationKeysCapabilities);
    </script>

    <!-- Page Body (JS-driven placeholder) -->
    <div class="px-0 py-2">
        <div class="container mt-6">
            <div id="translation-keys-table-container" class="w-full"></div>
        </div>
    </div>
{% endblock %}

{% block scripts %}
    <script src="{{ asset('assets/maatify/admin-kernel/js/api_handler.js') }}"></script>
    <script src="{{ asset('assets/maatify/admin-kernel/js/callback_handler.js') }}"></script>
    <script src="{{ asset('assets/maatify/admin-kernel/js/Input_checker.js') }}"></script>
    <script src="{{ asset('assets/maatify/admin-kernel/js/data_table.js') }}"></script>
{% endblock %}
