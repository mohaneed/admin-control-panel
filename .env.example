# =========================
# Application
# =========================

# Application environment
# REQUIRED â€” no defaults
# Allowed values: production | staging | development
APP_ENV=production

# TOTP issuer name
# Displayed in authenticator apps (e.g. Google Authenticator)
# Used when generating otpauth:// provisioning URI
TOTP_ISSUER="Maatify Admin"

# TOTP enrollment expiration (seconds)
# Maximum allowed time between setup (GET /2fa/setup)
# and confirmation (POST /2fa/setup)
# Recommended: 300â€“600 seconds
TOTP_ENROLLMENT_TTL_SECONDS=600

# Debug mode
# REQUIRED â€” true / false
APP_DEBUG=false

# Application timezone
# REQUIRED â€” must be a valid PHP timezone identifier
APP_TIMEZONE=Africa/Cairo

# =========================
# Database (MySQL)
# =========================

# Database host
DB_HOST=127.0.0.1

# Database name (must match the imported SQL schema)
DB_NAME=admin_control_panel

# Database username
DB_USER=root

# Database password
DB_PASS=your_password_here

# =========================
# Security & Crypto
# =========================
# ðŸ”’ DO NOT CHANGE WITHOUT SECURITY REVIEW
# ðŸ”’ REQUIRED â€” system will FAIL FAST if missing

# Key used to generate blind indexes for emails
# Minimum 32 characters, cryptographically secure random string
EMAIL_BLIND_INDEX_KEY=GENERATE_SECURE_KEY_MIN_32_CHARS

# =========================
# Key Rotation (REQUIRED)
# =========================
# CRYPTO_KEYS must be a valid JSON array of objects: { "id": "v1", "key": "HEX_OR_RAW" }
# CRYPTO_ACTIVE_KEY_ID must match one of the IDs in CRYPTO_KEYS.
#
# Example:
# CRYPTO_KEYS='[{"id":"v1","key":"...old..."},{"id":"v2","key":"...new..."}]'
#
# REQUIRED: The ID of the currently active key.
# This MUST match one of the IDs in CRYPTO_KEYS.
CRYPTO_ACTIVE_KEY_ID=v1
CRYPTO_KEYS='[{"id":"v1","key":"GENERATE_SECURE_HEX_KEY_MIN_64_CHARS"}]'

# =========================
# Password Pepper Ring (REQUIRED)
# =========================
# PASSWORD_PEPPERS must be a valid JSON object map: { "p1": "secret", "p2": "secret" }
# PASSWORD_ACTIVE_PEPPER_ID must be a key in PASSWORD_PEPPERS.
#
# REQUIRED: The ID of the currently active pepper.
# This MUST match one of the keys in PASSWORD_PEPPERS.
PASSWORD_ACTIVE_PEPPER_ID=p1
PASSWORD_PEPPERS='{"p1":"GENERATE_SECURE_KEY_MIN_32_CHARS"}'

# =========================
# Argon2id Configuration (OPTIONAL)
# =========================
# Controls the cost parameters for password hashing.
# If omitted, defaults to: {"memory_cost":65536,"time_cost":4,"threads":1}
#
# Must be a valid JSON object with integer values > 0.
# Changing these values will trigger automatic re-hashing on next login.
PASSWORD_ARGON2_OPTIONS='{"memory_cost":65536,"time_cost":4,"threads":1}'

# IMPORTANT:
# - These keys are NOT passwords
# - Do NOT reuse real passwords
# - Do NOT rotate without a defined recovery procedure

# =========================
# Email Transport (SMTP)
# =========================
# REQUIRED â€” Email system will FAIL FAST if missing
# Used by Email Worker only (async delivery)

# SMTP server host
MAIL_HOST=smtp.example.com

# SMTP server port
MAIL_PORT=587

# SMTP authentication username
MAIL_USERNAME=your_smtp_username

# SMTP authentication password
MAIL_PASSWORD=your_smtp_password

# Default sender email address
MAIL_FROM_ADDRESS=no-reply@example.com

# Default sender display name
MAIL_FROM_NAME="Admin Control Panel"

# Optional encryption: tls | ssl | null
MAIL_ENCRYPTION=tls

# Optional connection timeout (seconds)
MAIL_TIMEOUT_SECONDS=10

# Optional charset
MAIL_CHARSET=UTF-8

# Optional debug level (0 = disabled)
# Used ONLY in non-production environments
MAIL_DEBUG_LEVEL=0

# =========================
# Logging Configuration (PSR-3)
# =========================

# Base path for application logs
# Relative paths are resolved from project root
LOG_PATH=storage/logs

# Number of days to keep log files before automatic cleanup
# Old logs beyond this period will be deleted
LOG_RETENTION_DAYS=14

# Timezone used for log timestamps
# Must be a valid PHP timezone identifier
LOG_TIMEZONE=Africa/Cairo

# =========================
# Emergency / Recovery
# =========================
# INTERNAL USE ONLY
# When enabled, the system enters Recovery-Locked Mode
# Blocks login, OTP verification, and sensitive actions
RECOVERY_MODE=false
