# ============================================================
# Application (REQUIRED)
# ============================================================

# Application environment
# REQUIRED — no defaults
# Allowed values:
#   - production
#   - staging
#   - development
APP_ENV=production

# Debug mode
# REQUIRED — true / false
# ⚠️ MUST be false in production
APP_DEBUG=false

# Application timezone
# REQUIRED — must be a valid PHP timezone identifier
# Examples: Africa/Cairo, UTC, Europe/Berlin
APP_TIMEZONE=Africa/Cairo

# Application display name
# Used in:
#   - UI headers
#   - Emails
#   - Metadata
APP_NAME="Admin Control Panel"

# Base URL of the admin panel
# Used for:
#   - Redirects
#   - Absolute links
#   - Emails
ADMIN_URL=https://admin.example.com/

# Base URL for admin assets (CSS, JS, images)
# Defaults to "/" if not overridden
ASSET_BASE_URL=/

# Optional logo URL (absolute or relative)
# Used in:
#   - Login page
#   - Emails
LOGO_URL=

# Optional host override for Twig templates
# Used when embedding admin into a host application
HOST_TEMPLATE_PATH=

# ============================================================
# Database (MySQL) — REQUIRED
# ============================================================

# Database host
DB_HOST=127.0.0.1

# Database name
# MUST match imported SQL schema
DB_NAME=admin_control_panel

# Database username
DB_USER=root

# Database password
# ⚠️ Secret — never commit real value
DB_PASS=your_password_here

# ============================================================
# Security — Blind Indexing (REQUIRED)
# ============================================================

# Key used to generate blind indexes for emails
# Used for:
#   - Email uniqueness
#   - Secure lookup without plaintext
#
# Requirements:
#   - Minimum 32 characters
#   - Cryptographically secure
EMAIL_BLIND_INDEX_KEY=GENERATE_SECURE_KEY_MIN_32_CHARS

# ============================================================
# Crypto Key Ring (REQUIRED)
# ============================================================

# Used for:
#   - Encryption / decryption
#   - Key rotation
#
# CRYPTO_KEYS must be a JSON array of objects:
#   { "id": "v1", "key": "HEX_OR_RAW_SECRET" }

# Active crypto key ID
# MUST match one of the IDs in CRYPTO_KEYS
CRYPTO_ACTIVE_KEY_ID=v1

# Crypto keys definition
CRYPTO_KEYS='[{"id":"v1","key":"GENERATE_SECURE_HEX_KEY_MIN_64_CHARS"}]'

# ============================================================
# Password Pepper Ring (REQUIRED)
# ============================================================

# Used for:
#   - Password hashing
#   - Pepper rotation
#
# PASSWORD_PEPPERS must be a JSON object map:
#   { "p1": "secret", "p2": "secret" }

# Active pepper ID
# MUST match a key in PASSWORD_PEPPERS
PASSWORD_ACTIVE_PEPPER_ID=p1

# Pepper secrets
# ⚠️ NOT passwords — random secrets only
PASSWORD_PEPPERS='{"p1":"GENERATE_SECURE_KEY_MIN_32_CHARS"}'

# ============================================================
# Password Hashing — Argon2id (OPTIONAL)
# ============================================================

# Controls password hashing cost parameters
# If omitted, defaults are applied internally
#
# Changing these values:
#   - DOES NOT break existing passwords
#   - Triggers automatic re-hash on next login
#
# Example values are production-safe defaults
PASSWORD_ARGON2_OPTIONS='{"memory_cost":65536,"time_cost":4,"threads":1}'

# ============================================================
# Two-Factor Authentication (TOTP)
# ============================================================

# TOTP issuer name
# Displayed in authenticator apps (Google Authenticator, etc.)
TOTP_ISSUER="Maatify Admin"

# TOTP enrollment expiration (seconds)
# Time allowed between:
#   - Setup
#   - Confirmation
#
# Recommended: 300–600 seconds
TOTP_ENROLLMENT_TTL_SECONDS=600

# ============================================================
# Email Transport (SMTP) — REQUIRED
# ============================================================

# SMTP server host
MAIL_HOST=smtp.example.com

# SMTP server port
MAIL_PORT=587

# SMTP authentication username
MAIL_USERNAME=your_smtp_username

# SMTP authentication password
# ⚠️ Secret
MAIL_PASSWORD=your_smtp_password

# Default sender email address
MAIL_FROM_ADDRESS=no-reply@example.com

# Default sender display name
MAIL_FROM_NAME="Admin Control Panel"

# Optional encryption:
#   - tls
#   - ssl
#   - empty (no encryption)
MAIL_ENCRYPTION=tls

# Optional connection timeout (seconds)
MAIL_TIMEOUT_SECONDS=10

# Optional charset
MAIL_CHARSET=UTF-8

# Optional debug level
# 0 = disabled
# ⚠️ SHOULD remain 0 in production
MAIL_DEBUG_LEVEL=0

# ============================================================
# Logging Configuration (PSR-3)
# ============================================================

# Base path for application logs
# Relative paths resolved from project root
LOG_PATH=storage/logs

# Log retention period (days)
# Old logs beyond this period may be cleaned
LOG_RETENTION_DAYS=14

# Timezone used for log timestamps
# Must be a valid PHP timezone identifier
LOG_TIMEZONE=Africa/Cairo

# ============================================================
# Cloudflare Turnstile (Bot Protection)
# ============================================================
# Used to protect public-facing authentication endpoints
# such as login, password reset, and verification forms.
#
# Set both values to enable Turnstile validation.
# Leave disabled (false) to bypass Turnstile entirely.
#
# NOTE:
# These keys should NEVER be exposed in frontend code.
TURNSTILE_SITE_KEY='site_key'
TURNSTILE_SECRET_KEY='secret_key'

# ============================================================
# Emergency / Recovery (INTERNAL USE ONLY)
# ============================================================

# When enabled, system enters Recovery-Locked Mode
# Effects:
#   - Login blocked
#   - OTP verification blocked
#   - Sensitive actions blocked
RECOVERY_MODE=false
